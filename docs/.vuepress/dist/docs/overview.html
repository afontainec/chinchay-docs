<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview: What is Chinchay? | Chinchay Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ab30e0ca.css" as="style"><link rel="preload" href="/assets/js/app.5cd1b9b8.js" as="script"><link rel="preload" href="/assets/js/2.6e51adde.js" as="script"><link rel="preload" href="/assets/js/18.6954d1f4.js" as="script"><link rel="prefetch" href="/assets/js/10.39beef3b.js"><link rel="prefetch" href="/assets/js/11.ae856a89.js"><link rel="prefetch" href="/assets/js/12.529e49bf.js"><link rel="prefetch" href="/assets/js/13.79fc2a4b.js"><link rel="prefetch" href="/assets/js/14.682f471e.js"><link rel="prefetch" href="/assets/js/15.c051699d.js"><link rel="prefetch" href="/assets/js/16.5d06c274.js"><link rel="prefetch" href="/assets/js/17.2eb614fd.js"><link rel="prefetch" href="/assets/js/19.3d4ee0ab.js"><link rel="prefetch" href="/assets/js/20.f1d7d420.js"><link rel="prefetch" href="/assets/js/21.32eb42fb.js"><link rel="prefetch" href="/assets/js/22.64d77698.js"><link rel="prefetch" href="/assets/js/23.a0ca5d76.js"><link rel="prefetch" href="/assets/js/24.947e0aa0.js"><link rel="prefetch" href="/assets/js/25.a01f96ca.js"><link rel="prefetch" href="/assets/js/26.3bc9d711.js"><link rel="prefetch" href="/assets/js/27.56f87a97.js"><link rel="prefetch" href="/assets/js/28.f9d20243.js"><link rel="prefetch" href="/assets/js/29.a5fe147d.js"><link rel="prefetch" href="/assets/js/3.d4c77e9b.js"><link rel="prefetch" href="/assets/js/30.f9cbe6a2.js"><link rel="prefetch" href="/assets/js/31.7845669c.js"><link rel="prefetch" href="/assets/js/32.7ac80465.js"><link rel="prefetch" href="/assets/js/33.53d4d26e.js"><link rel="prefetch" href="/assets/js/34.b1d81033.js"><link rel="prefetch" href="/assets/js/35.460206bf.js"><link rel="prefetch" href="/assets/js/36.eced912b.js"><link rel="prefetch" href="/assets/js/37.a5e102f5.js"><link rel="prefetch" href="/assets/js/38.02b749d7.js"><link rel="prefetch" href="/assets/js/39.b1521343.js"><link rel="prefetch" href="/assets/js/4.b9c9910a.js"><link rel="prefetch" href="/assets/js/40.a4d17c8c.js"><link rel="prefetch" href="/assets/js/41.b5319ff0.js"><link rel="prefetch" href="/assets/js/5.e662506d.js"><link rel="prefetch" href="/assets/js/6.588c36f9.js"><link rel="prefetch" href="/assets/js/7.da043634.js"><link rel="prefetch" href="/assets/js/8.d303a7f3.js"><link rel="prefetch" href="/assets/js/9.be7486b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab30e0ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Chinchay Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" class="nav-link">
  Collaborate!
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="/middleware/" class="nav-link">
  Middleware
</a></div><div class="nav-item"><a href="/errorhandler/" class="nav-link">
  Error Handler
</a></div><div class="nav-item"><a href="/collaborate/" class="nav-link">
  Collaborate!
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/overview.html" aria-current="page" class="active sidebar-link">Overview: What is Chinchay?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/overview.html#overview-what-is-chinchay" class="sidebar-link">Overview: What is Chinchay?</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#file-structure-model-view-controller-mvc-architecture" class="sidebar-link">File Structure: Model-View-Controller (MVC) Architecture</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#updating-the-database" class="sidebar-link">Updating the Database</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#rest-api" class="sidebar-link">REST API</a></li></ul></li><li><a href="/docs/cli.html" class="sidebar-link">Command Line Interface</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/cli.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#the-magical-new-command" class="sidebar-link">The magical new command</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#chinchay-configurations-chainfile" class="sidebar-link">Chinchay Configurations: Chainfile</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#what-is-created" class="sidebar-link">What is created?</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#frontend-and-backend" class="sidebar-link">frontend and backend</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#the-middleware-flag" class="sidebar-link">the middleware flag</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#do-i-prefer-camels-or-snakes" class="sidebar-link">Do I prefer üê´camels or üêçsnakes?</a></li></ul></li><li><a href="/docs/chainfile.html" class="sidebar-link">Chainfile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/chainfile.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#knex-the-minimal-configuration" class="sidebar-link">Knex: The minimal Configuration</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#model-controller-routes" class="sidebar-link">Model + Controller + Routes</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#views" class="sidebar-link">views</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#frontend" class="sidebar-link">frontend</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#backend" class="sidebar-link">backend</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#middleware-access-thewall" class="sidebar-link">middleware + access + thewall</a></li></ul></li><li><a href="/docs/hateoas.html" class="sidebar-link">Hateoas Generator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hateoas.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#hateoas-generator" class="sidebar-link">HATEOAS Generator</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#addlink" class="sidebar-link">addLink</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#get" class="sidebar-link">get</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#removelink" class="sidebar-link">removeLink</a></li></ul></li><li><a href="/docs/model.html" class="sidebar-link">The TableGateway Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/model.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/middleware.html" class="sidebar-link">Chinchay Middleware</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/middleware.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/errorhandler.html" class="sidebar-link">Error Handler: Manage http responses</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/errorhandler.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/clientside.html" class="sidebar-link">API: Client Querying</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/clientside.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#create" class="sidebar-link">Create</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#update" class="sidebar-link">Update</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#delete" class="sidebar-link">Delete</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#find-by-id" class="sidebar-link">Find by ID</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#find" class="sidebar-link">Find</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#count" class="sidebar-link">Count</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="overview-what-is-chinchay"><a href="#overview-what-is-chinchay" class="header-anchor">#</a> Overview: What is Chinchay?</h2> <p>Ufff this is a tough question.... What Chinchay aims to do is to facilitate how things are structured in your repository and speed up your development.</p> <p>When building a large application order is a key factor, very easily the reposity becomes a big plate of spaghetti! Basically just chaos.</p> <h3 id="how-does-it-do-it"><a href="#how-does-it-do-it" class="header-anchor">#</a> How does it do it?</h3> <p>The most fascinating and valuable piece of Chinchay it's the flexible TableGateway model. It handles all the interaction from and to a certain table in the database, without you knowing any sql! We just one command you will be able to create, read, update, delete, count, sum and many other operations in the database, it's true just that simple. If by any chance you are a sql master and want to go beyond, Chinchay will allow you and help you to organize more your queries.</p> <p>But that is just the beginning.... Chinchays will help you a LOT more. In my early years programming I had this problems:</p> <ul><li>Organizing the files</li> <li>Managing the updates to the database</li> <li>Making a <em>good</em> api</li> <li>Managing user access: who can access what</li></ul> <p>It was then that I decided to build a tool that would allow me to tackle each of this issues. This tool include both a Command Line Interface as a packages and other tools to tackle each problem.</p> <p>Here goes how every problem was tackled:</p> <h2 id="file-structure-model-view-controller-mvc-architecture"><a href="#file-structure-model-view-controller-mvc-architecture" class="header-anchor">#</a> File Structure: Model-View-Controller (MVC) Architecture</h2> <p>For starters, let's begin with a disclaimer: I did not reinvent the wheel. Chinchay uses the state-of-the-art, in this case it was MVC Architecture. If you do not know what that is, here are a list of useful links:</p> <ul><li><a href="https://techterms.com/definition/mvc" target="_blank" rel="noopener noreferrer">Techterm article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.tutorialspoint.com/mvc_framework/mvc_framework_introduction.htm" target="_blank" rel="noopener noreferrer">Tutorialspoint definition<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://softwareengineering.stackexchange.com/questions/127624/what-is-mvc-really" target="_blank" rel="noopener noreferrer">The stackexchange forum<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank" rel="noopener noreferrer">The always useful Wikipedia article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>But in a nutshell, the code is logically separated in three areas. The model, where the logical-business code is written. They are the gateway to the database and would do most of the &quot;important&quot; job. The view manages all the UI logic and the controller is the interface that connects the view with the model.</p> <p>The <a href="./cli">Command Line Interface</a> will allow you to generate files in this pattern to keep everything organized and clean.</p> <h2 id="updating-the-database"><a href="#updating-the-database" class="header-anchor">#</a> Updating the Database</h2> <p>Chinchay works with <a href="https://www.postgresql.org/about/" target="_blank" rel="noopener noreferrer">Postgres<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This is the <a href="https://en.wikipedia.org/wiki/Database" target="_blank" rel="noopener noreferrer">database system<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that stores the data. As you may know the data is saved in tables. So how do we actually create or modify this tables?</p> <h3 id="schema-migrations"><a href="#schema-migrations" class="header-anchor">#</a> Schema Migrations</h3> <p>A schema migration is a piece of code that does one change to the database. It usually has the code to revert that change. For instance if we add the column user_id to the table coffees but then you regret that decision, you can rollback that migration. Here are some interesting articles you might find interesting:</p> <ul><li><a href="https://www.sciencedirect.com/topics/computer-science/schema-migration" target="_blank" rel="noopener noreferrer">science direct article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://perkframework.com/v1/guides/database-migrations-knex.html" target="_blank" rel="noopener noreferrer">perk article about migration and knex<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://en.wikipedia.org/wiki/Schema_migration" target="_blank" rel="noopener noreferrer">The always useful Wikipedia article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>I guess you are asking yourself how does this actually works, the answer is: knex.</p> <h4 id="knex"><a href="#knex" class="header-anchor">#</a> knex</h4> <p><a href="http://knexjs.org/" target="_blank" rel="noopener noreferrer">knex<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is the magical tool that will manage all the migrations. Everytime you need to make a change to the database you make a knex migration as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>$ knex migrate:make migration_name
</code></pre></div><p>That will create a code that usually goes something like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  exports<span class="token punctuation">.</span><span class="token function-variable function">up</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">knex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// code to make the change in the database</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  exports<span class="token punctuation">.</span><span class="token function-variable function">down</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">knex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// code to revert the change in the database</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>In the <strong>up</strong> function you write the code for the change and in the <strong>down</strong> function the code to revert the change of the <strong>up</strong> function.</p> <p>Then just run the following to apply the change (it will execute the up function):</p> <div class="language- extra-class"><pre class="language-text"><code>$ knex migrate:make latest
</code></pre></div><p>If you want to revert it, run the following (it will execute the down function):</p> <div class="language- extra-class"><pre class="language-text"><code>$ knex migrate:make rollback
</code></pre></div><p>When you use the <a href="./cli">Chinchay Command Line Interface</a> to create migrations it will use this. For more information on migrating with knex go to the <a href="http://knexjs.org/" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="why-postgres-and-not-another-database-system"><a href="#why-postgres-and-not-another-database-system" class="header-anchor">#</a> Why postgres and not another database system?</h3> <p>To be honest, just because. Postgres is one of the most popular databases and it seemed as a good starting point. At the moment we are working to make Chinchay compatible with mysql and other databases, actually if you are a database expert help us out making Chinchay compatible with more databases!</p> <h2 id="rest-api"><a href="#rest-api" class="header-anchor">#</a> REST API</h2> <p>The next big thing was: how to do a <em>good</em> api?</p> <p>And the answer is a flexible RESTful API. If you do not know what a RESTful API I recommend to read <a href="https://restfulapi.net/" target="_blank" rel="noopener noreferrer">this article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. In a nutshet a RESTful API is an architectural style presented by Roy Fielding that suggest a way to model the client-server interaction.</p> <p>Not everyone API that say it's REST actually is REST. Most of the APIs out there who declare themselfs as REST APIs actually their are not. REST enforces some strict protocols which are hardly ever filfilled. Aaaand enter Chinchay, Chinchay will separate the code in <strong>layered system</strong>  which is <strong>stateless</strong> and <strong>cacheable</strong>. Moreover, to make a <strong>uniform interface</strong> it a has fully flexible <strong>HATEOAS generator</strong>.</p> <h3 id="hateoas"><a href="#hateoas" class="header-anchor">#</a> HATEOAS</h3> <p>HATEOAS is one of the most distintive features of a REST API and is hardly ever present. HATEOAS tries to mimic our real-life browsing, when we visit a page all the possible links are presented (as buttons, images, etc). HATEOAS aims to do the same, which every API request a list of followup links are given. However, doing so it's a pain in the *** for the developer, he is responsible to, for every API request, return all the followup link. So guess what does chinchay do? Yes it will make it veeery easy to do so with it's <a href="./hateoas">HATEOAS generator</a>.</p> <p>You can read more about <a href="https://restfulapi.net/hateoas/" target="_blank" rel="noopener noreferrer">HATEOAS here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="client-queries"><a href="#client-queries" class="header-anchor">#</a> Client Queries</h3> <p>Well so we now have a RESTful API with HATEOAS, is that a <em>good</em> api? Well, not necessarily... A <em>GOOD</em> API is an API that is both elegant and useful. The elegant ‚úÖ (it's REST, so yeah it is elegant) but how do we make it useful?</p> <p>For it to be useful, the client must be able to extract the information it needs through it. Chinchay provides a complete flexible interface where the client can build specific queries to consult information. The backend developer does not need to do a different API endpoint for each client need, with a few endpoint and a flexible querying interface everything is possible. Read more on how to do so <a href="./clientside">here</a>.</p> <h3 id="oauth-2-0"><a href="#oauth-2-0" class="header-anchor">#</a> oAuth 2.0</h3> <p>If by this point you are thinking, wait the client can ask whatever he wants, so is it unsafe or how do we control he only access what he should access? Do not worry! Chinchay has you cover!</p> <p>You can easily transform your API into an oAuth 2.0 API, oAuth is an industry-standard protocol for authorization. In simple terms, you can protect so each user only access the endpoint you give him access to.</p> <p>So the whole process go like this:</p> <ol><li>The user authenticates with it's credentials (usually a username and password)</li> <li>If the credentials are correct an access token is generated and given to the user. This token has an expiration date.</li> <li>Every request the user does to the API it must provide the access token, otherwise the connecting is denied.</li></ol> <h3 id="so-how-does-chinchay-make-the-api-an-oauth-2-0-api"><a href="#so-how-does-chinchay-make-the-api-an-oauth-2-0-api" class="header-anchor">#</a> So how does Chinchay make the API an oAuth 2.0 API?</h3> <p><a href="./middleware">The Chinchay Middleware</a> will be in charge of inspecting that the token is present, valid and that the user of that token has access to the given endpoint. The token is expected to be given as a <a href="https://stackoverflow.com/questions/25838183/what-is-the-oauth-2-0-bearer-token-exactly/25843058" target="_blank" rel="noopener noreferrer">Bearer Token<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>The <a href="./middleware#access">Access Module</a> will be in charge of generating the access token, the token follows the <a href="https://jwt.io/" target="_blank" rel="noopener noreferrer">json web token standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, by generating the token with <a href="https://www.npmjs.com/package/jsonwebtoken" target="_blank" rel="noopener noreferrer">the jsonwebtoken npm package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>To actually define which user has access to which endpoints, chinchay uses the <a href="https://www.npmjs.com/package/thewall" target="_blank" rel="noopener noreferrer">thewall npm package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. In the <a href="./middleware">Middleware documentation</a> you will be guided on how to work with each of this tools.</p> <p>Moreover you might have one route that it's accessible by different users but the content must be different. For instance, with chinchay (running locally) the route: <em>http://localhost/api/coffee/find</em> will return all the coffees. If we have a customer1 user and a customer2 user, we might want to use that endpoint to return all the coffees that the user has access. So how do we filter them? With thewall we give access to both users to that route, but with the <a href="./middleware#access">Access Module</a> we can add the corresponding filter so that when the information is fetched to the database only the corresponding coffees are given.</p> <div class="custom-block tip"><p class="custom-block-title">REMINDER</p> <p>Do remember that the using oAuth is optional, you might have an API that is accessible for everyone and if that's fine with you Chinchay will be fine as well.</p></div> <p>If you have more doubts of how oAuth works, check this links:</p> <ul><li><a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth 2.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://en.wikipedia.org/wiki/OAuth#:~:text=OAuth%20is%20an%20open%20standard,without%20giving%20them%20the%20passwords.&amp;text=OAuth%20is%20a%20service%20that%20is%20complementary%20to%20and%20distinct%20from%20OpenID." target="_blank" rel="noopener noreferrer">The always useful wiki article<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://stackoverflow.com/questions/25838183/what-is-the-oauth-2-0-bearer-token-exactly/25843058" target="_blank" rel="noopener noreferrer">Bearer Token<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://jwt.io/introduction/" target="_blank" rel="noopener noreferrer">json web token standard<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/cli.html">
        Command Line Interface
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5cd1b9b8.js" defer></script><script src="/assets/js/2.6e51adde.js" defer></script><script src="/assets/js/18.6954d1f4.js" defer></script>
  </body>
</html>
