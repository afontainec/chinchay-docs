<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Overview | Chinchay Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.ab30e0ca.css" as="style"><link rel="preload" href="/assets/js/app.91035043.js" as="script"><link rel="preload" href="/assets/js/2.6e51adde.js" as="script"><link rel="preload" href="/assets/js/14.8c964c84.js" as="script"><link rel="prefetch" href="/assets/js/10.c0e717ab.js"><link rel="prefetch" href="/assets/js/11.2b80c978.js"><link rel="prefetch" href="/assets/js/12.f019c715.js"><link rel="prefetch" href="/assets/js/13.a19a0341.js"><link rel="prefetch" href="/assets/js/15.e834bee4.js"><link rel="prefetch" href="/assets/js/16.f6090ea2.js"><link rel="prefetch" href="/assets/js/17.fb45ba33.js"><link rel="prefetch" href="/assets/js/18.944faade.js"><link rel="prefetch" href="/assets/js/19.f99d47cc.js"><link rel="prefetch" href="/assets/js/20.f28420bc.js"><link rel="prefetch" href="/assets/js/21.bf081d34.js"><link rel="prefetch" href="/assets/js/22.c877068f.js"><link rel="prefetch" href="/assets/js/23.535a5beb.js"><link rel="prefetch" href="/assets/js/24.0955857f.js"><link rel="prefetch" href="/assets/js/25.80bdcfda.js"><link rel="prefetch" href="/assets/js/26.38d1ca04.js"><link rel="prefetch" href="/assets/js/27.b44317e6.js"><link rel="prefetch" href="/assets/js/28.f7bf3ab8.js"><link rel="prefetch" href="/assets/js/29.04815b96.js"><link rel="prefetch" href="/assets/js/3.f01ef0de.js"><link rel="prefetch" href="/assets/js/30.088f69b5.js"><link rel="prefetch" href="/assets/js/31.3864f983.js"><link rel="prefetch" href="/assets/js/32.796569b8.js"><link rel="prefetch" href="/assets/js/4.4bca2bee.js"><link rel="prefetch" href="/assets/js/5.41eed832.js"><link rel="prefetch" href="/assets/js/6.79638fa5.js"><link rel="prefetch" href="/assets/js/7.da043634.js"><link rel="prefetch" href="/assets/js/8.ad31c7ea.js"><link rel="prefetch" href="/assets/js/9.a757f3ea.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab30e0ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Chinchay Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Error Handler
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Collaborate!
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gettingstarted/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/models/" class="nav-link">
  The Model
</a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones2" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Error Handler
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://apanotupyme.cl/pages/terminos-y-condiciones3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Collaborate!
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/overview.html" class="sidebar-link">Overview: What is Chinchay?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/overview.html#overview-what-is-chinchay" class="sidebar-link">Overview: What is Chinchay?</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#file-structure-model-view-controller-mvc-architecture" class="sidebar-link">File Structure: Model-View-Controller (MVC) Architecture</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#updating-the-database" class="sidebar-link">Updating the Database</a></li><li class="sidebar-sub-header"><a href="/docs/overview.html#rest-api" class="sidebar-link">REST API</a></li></ul></li><li><a href="/docs/cli.html" class="sidebar-link">Command Line Interface</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/cli.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#the-magical-new-command" class="sidebar-link">The magical new command</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#chinchay-configurations-chainfile" class="sidebar-link">Chinchay Configurations: Chainfile</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#what-is-created" class="sidebar-link">What is created?</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#frontend-and-backend" class="sidebar-link">frontend and backend</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#the-middleware-flag" class="sidebar-link">the middleware flag</a></li><li class="sidebar-sub-header"><a href="/docs/cli.html#do-i-prefer-camels-or-snakes" class="sidebar-link">Do I prefer 🐫camels or 🐍snakes?</a></li></ul></li><li><a href="/docs/chainfile.html" class="sidebar-link">Chainfile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/chainfile.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#knex-the-minimal-configuration" class="sidebar-link">Knex: The minimal Configuration</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#model-controller-routes" class="sidebar-link">Model + Controller + Routes</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#views" class="sidebar-link">views</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#frontend" class="sidebar-link">frontend</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#backend" class="sidebar-link">backend</a></li><li class="sidebar-sub-header"><a href="/docs/chainfile.html#middleware-access-thewall" class="sidebar-link">middleware + access + thewall</a></li></ul></li><li><a href="/docs/hateoas.html" aria-current="page" class="active sidebar-link">Hateoas Generator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/hateoas.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#hateoas-generator" class="sidebar-link">HATEOAS Generator</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#addlink" class="sidebar-link">addLink</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#get" class="sidebar-link">get</a></li><li class="sidebar-sub-header"><a href="/docs/hateoas.html#removelink" class="sidebar-link">removeLink</a></li></ul></li><li><a href="/docs/model.html" class="sidebar-link">The TableGateway Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/model.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/middleware.html" class="sidebar-link">Chinchay Middleware</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/middleware.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/errorhandler.html" class="sidebar-link">Error Handler: Manage http responses</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/errorhandler.html#overview" class="sidebar-link">Overview</a></li></ul></li><li><a href="/docs/clientside.html" class="sidebar-link">API: Client Querying</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/clientside.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#create" class="sidebar-link">Create</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#update" class="sidebar-link">Update</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#delete" class="sidebar-link">Delete</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#find-by-id" class="sidebar-link">Find by ID</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#find" class="sidebar-link">Find</a></li><li class="sidebar-sub-header"><a href="/docs/clientside.html#count" class="sidebar-link">Count</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>HATEOAS is one of the most distintive features of a REST API and is hardly ever present. HATEOAS tries to mimic our real-life browsing, when we visit a page all the posible links are presented (as buttons, images, etc). HATEOAS aims to do the same, which every API request a list of followup links are given. However, doing so its a pain in the *** for the developer, he is responsible to, for every API request, return all the followup link. So guess what does chinchay do? Yes it will make it veeery easy to do so with its HATEOAS generator.</p> <p>You can read more about <a href="https://restfulapi.net/hateoas/" target="_blank" rel="noopener noreferrer">HATEOAS here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="hateoas-generator"><a href="#hateoas-generator" class="header-anchor">#</a> HATEOAS Generator</h2> <p>So, lets get started. Will exemplify with the controller of <a href="../gettingstarted/ejs">Getting Started Tutorial</a>.</p> <p>So the controller goes like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> HateoasGenerator <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chinchay'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Hateoas<span class="token punctuation">;</span>

<span class="token operator">...</span>

<span class="token keyword">const</span> <span class="token constant">HATEOAS</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HateoasGenerator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>So here we are creating one instance of the HATEOAS generator for this specific controller.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>It is recommended to have 1 hateoas instance per controller. You may have 1 hateoas instance (created in a separated file) for many controller but hardly ever that is recommended. You may also have more several instances in one controller, however usally that is a sign that the controller needs some refactoring and to be splitted in several controller.</p></div> <h2 id="addlink"><a href="#addlink" class="header-anchor">#</a> addLink</h2> <p>So we have our instance, how do we inform which urls should he add to every request?
Well its very simple, if we look at the controller we would see this auto-generated lines:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'self'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/:id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'edit'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/:id/edit'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'delete'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/:id/delete'</span><span class="token punctuation">,</span> <span class="token string">'DELETE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'new'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/new'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'all'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/find'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">addLink</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token string">'/api/coffee/count'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>So, 6 links are added. This generate a HATEOAS as such:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Elemento guardado exitosamente&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;this is the name&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token string">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-21T11:54:42.840Z&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-21T11:54:42.840Z&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;links&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;self&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;edit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/1/edit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delete&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/1/delete&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DELETE&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;new&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/new&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/find&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;rel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;count&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;href&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/coffee/count&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Lets explain a bit the method <code>addLink(name, url, type)</code></p> <ul><li><strong>name</strong>: the name defines a human-readable name for that link. It will be assign to property <code>rel</code>.</li> <li><strong>url</strong>: Is the url of the given link. It is assign to the property <code>href</code>. Note that variables can be passed for the url. For instanse the self url is given an <code>:id</code> which is then replaced by the corresponding id.</li> <li><strong>type</strong>: The http verb. It will be assing to the property <code>type</code>.</li></ul> <h2 id="get"><a href="#get" class="header-anchor">#</a> get</h2> <p>Lets look now when and how are this links added to each response. If we look the create function we see the the <code>links</code> property is added to the <code>json.data</code> which is the send as the response:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Coffee<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'Elemento guardado exitosamente'</span><span class="token punctuation">,</span> <span class="token string">'data'</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    json<span class="token punctuation">.</span>data<span class="token punctuation">.</span>links <span class="token operator">=</span> <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> code <span class="token operator">=</span> errorHandler<span class="token punctuation">.</span><span class="token function">getHTTPCode</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> message <span class="token operator">=</span> errorHandler<span class="token punctuation">.</span><span class="token function">getHTTPMessage</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> error<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Lets look to the <code>get(values)</code> method. This method recieves some <em>values</em>, in the previous example the <code>results</code>. For this it will create an array of all the defined links. if any links need to be compiled it will compiled and will use the values property to replace it.</p> <ul><li>values: A javascript object. The keys/properties it have will be used to compile every uri. For instance, if the uri is <code>'/api/coffee/:id'</code> and the values is <code>{id: 1}</code>, the compiled uri will be <code>'api/coffee/1'</code>.</li> <li>return: The returned is an Array of javascript object. Each object have a <code>rel</code>, <code>href</code> and <code>type</code> property. The rel provides a human-readable value for undestanding what is, <code>href</code> the link to the resource and the <code>type</code> is the http verb for the link.</li></ul> <p>Take a look at the find function to check out how the HATEOAS is added when the results is an array:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">find</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> Table<span class="token punctuation">.</span><span class="token function">extractOptions</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> columns <span class="token operator">=</span> Table<span class="token punctuation">.</span><span class="token function">extractColumns</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> query <span class="token operator">=</span> Table<span class="token punctuation">.</span><span class="token function">extractQuery</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Coffee<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> columns<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">results</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'Busqueda encontrada exitosamente'</span><span class="token punctuation">,</span> <span class="token string">'data'</span><span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> json<span class="token punctuation">.</span>data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      json<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>links <span class="token operator">=</span> <span class="token constant">HATEOAS</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> code <span class="token operator">=</span> errorHandler<span class="token punctuation">.</span><span class="token function">getHTTPCode</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> message <span class="token operator">=</span> errorHandler<span class="token punctuation">.</span><span class="token function">getHTTPMessage</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> json <span class="token operator">=</span> httpResponse<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> error<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="removelink"><a href="#removelink" class="header-anchor">#</a> removeLink</h2> <p>This method is not used in the controller but is quite self explatory. If at any time you desire the dynamically delete links you can call <code>removeLink(name)</code> and the link with the given name will no longer be added when the <code>get</code> method is called.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/chainfile.html" class="prev">
        Chainfile
      </a></span> <span class="next"><a href="/docs/model.html">
        The TableGateway Model
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.91035043.js" defer></script><script src="/assets/js/2.6e51adde.js" defer></script><script src="/assets/js/14.8c964c84.js" defer></script>
  </body>
</html>
